# HU-012 — Formulario de registro de fundación (UI)

**Como** usuario de una fundación  
**Quiero** ver y completar un formulario de registro visualmente atractivo y bien estructurado  
**Para** registrarme en la plataforma Amigo Gigante

---

## Dependencias

- HU-005 (MUI configurado)
- HU-007 (Tailwind configurado)
- HU-008 (Design System centralizado)
- HU-009 (Logo en navbar)
- HU-010 (Atomic Design - componentes reutilizables, si aplica)

---

## Contexto / Notas

- Esta HU es **solo diseño/UI**: no incluye lógica de validación ni integración con backend.
- El formulario debe seguir el diseño proporcionado en `docs/design/code_registration_screen.html` y `docs/design/registration_screen.png`.
- El diseño de referencia usa colores diferentes al Design System actual (`primary: #2ce9ed` vs `brand: #1cb0f6`). Se debe adaptar al Design System existente usando tokens (`brand-500`, `accent-500`, `neutral-*`).
- El formulario debe ser responsive: layout de dos columnas en desktop, una columna en móvil.
- Los campos del formulario corresponden a:
  - Foundation Name → `foundations.name`
  - Official Email → `foundation_contacts.public_email`
  - Tax ID (opcional) → puede almacenarse en `foundations` o `foundation_contacts` según se defina
  - Password → para autenticación (Supabase Auth)
  - Confirm Password → validación de coincidencia
- El perfil de usuario se creará automáticamente cuando se implemente la funcionalidad (no en esta HU).

---

## Diseño

Referencias:
- Diseño: `docs/design/code_registration_screen.html`
- Imagen: `docs/design/registration_screen.png`
- Design System: `docs/design/system.md`
- Esquema BD: `docs/scripts/db.sql`

Estructura del diseño:
- **Layout de dos columnas** (desktop):
  - Columna izquierda: formulario completo
  - Columna derecha: imagen con overlay y testimonio
- **Layout de una columna** (móvil): solo formulario
- **Header**: Logo + "Amigo Gigante" + botón "Back to Home"
- **Formulario**:
  - Título: "Join Amigo Gigante"
  - Subtítulo descriptivo
  - Campos: Foundation Name, Official Email, Tax ID (opcional), Password, Confirm Password
  - Checkbox de términos y condiciones
  - Botón de registro
  - Badge "Secure Registration"
- **Footer**: Copyright
- **Link a login**: "Already have an account? Log in"

Reglas:
- Usar tokens del Design System (`brand-500`, `neutral-*`, etc.).
- Adaptar colores del diseño de referencia al Design System existente.
- Mantener la estructura visual y jerarquía del diseño.
- Los inputs deben tener estados de focus visibles.
- Los botones de mostrar/ocultar contraseña deben funcionar visualmente (toggle de icono).

---

## Alcance

Incluye:
- Crear página/ruta de registro (`/register` o similar)
- Implementar layout de dos columnas (responsive)
- Crear formulario con todos los campos según diseño
- Implementar header con logo y botón de navegación
- Implementar columna derecha con imagen y overlay (solo desktop)
- Implementar footer
- Implementar estados visuales de inputs (focus, hover)
- Implementar toggle de mostrar/ocultar contraseña (solo UI, sin lógica)
- Adaptar colores al Design System existente
- Hacer el formulario responsive

No incluye:
- Validación de formulario
- Integración con Supabase Auth
- Creación real de perfiles o fundaciones
- Navegación funcional (los links pueden ser placeholders)
- Lógica de envío de formulario
- Manejo de errores
- Mensajes de éxito/error

---

## Criterios de aceptación (Given / When / Then)

### 1) Página de registro creada

- **Dado** que necesito acceder al formulario de registro
- **Cuando** navego a la ruta de registro
- **Entonces** veo la página de registro completa
- **Y** la página se carga sin errores

---

### 2) Layout responsive implementado

- **Dado** que estoy en la página de registro
- **Cuando** visualizo en desktop (≥1024px)
- **Entonces** veo el layout de dos columnas:
  - Formulario a la izquierda (50% del ancho)
  - Imagen con overlay a la derecha (50% del ancho)
- **Y** cuando visualizo en móvil (<1024px)
- **Entonces** veo solo el formulario (columna completa)
- **Y** la imagen derecha está oculta

---

### 3) Header implementado

- **Dado** que estoy en la página de registro
- **Cuando** observo el header
- **Entonces** veo:
  - Logo de Amigo Gigante (círculo azul con logo centrado)
  - Texto "Amigo Gigante"
  - Botón/link "Back to Home" con icono de flecha
- **Y** el botón tiene efecto hover (cambio de color)

---

### 4) Formulario completo implementado

- **Dado** que estoy en la página de registro
- **Cuando** observo el formulario
- **Entonces** veo todos los campos:
  - Foundation Name (input de texto)
  - Official Email (input de email)
  - Tax ID (input de texto, marcado como opcional)
  - Password (input de password con botón de mostrar/ocultar)
  - Confirm Password (input de password con botón de mostrar/ocultar)
  - Checkbox de términos y condiciones
  - Botón "Register Foundation" con icono
  - Badge "Secure Registration" con icono de candado
- **Y** los campos tienen placeholders apropiados
- **Y** los labels están correctamente asociados

---

### 5) Estados visuales de inputs

- **Dado** que estoy en el formulario
- **Cuando** hago focus en un input
- **Entonces** el borde cambia de color (usando `brand-500` o `primary.main`)
- **Y** se muestra un ring de focus
- **Y** cuando hago hover sobre inputs
- **Entonces** hay un cambio visual sutil

---

### 6) Toggle de contraseña funcional (UI)

- **Dado** que estoy en los campos de contraseña
- **Cuando** hago clic en el botón de mostrar/ocultar
- **Entonces** el icono cambia (visibility ↔ visibility_off)
- **Y** el tipo de input cambia visualmente (password ↔ text)
- **Nota**: Esto es solo UI, no requiere lógica de estado compleja

---

### 7) Columna derecha con imagen (desktop)

- **Dado** que estoy en desktop
- **Cuando** observo la columna derecha
- **Entonces** veo:
  - Imagen de fondo (perros en campo)
  - Overlay con gradiente oscuro
  - Badge "Join 500+ Foundations" con icono
  - Testimonio en texto grande
  - Nombre de la fundación del testimonio
- **Y** el contenido está posicionado en la parte inferior

---

### 8) Footer implementado

- **Dado** que estoy en la página de registro
- **Cuando** scrolleo hacia abajo
- **Entonces** veo el footer con:
  - Texto de copyright "© 2024 Amigo Gigante. All rights reserved."
- **Y** está alineado según el diseño (centrado en móvil, izquierda en desktop)

---

### 9) Link a login implementado

- **Dado** que estoy en la página de registro
- **Cuando** observo la parte inferior del formulario
- **Entonces** veo el texto "Already have an account? Log in"
- **Y** "Log in" es un link con estilo destacado
- **Y** tiene efecto hover

---

### 10) Uso del Design System

- **Dado** que se implementa el formulario
- **Cuando** se revisa el código
- **Entonces** se usan tokens del Design System:
  - `bg-brand-500` o `primary.main` para botones primarios
  - `neutral-*` para textos y bordes
  - `rounded-lg` para bordes redondeados
  - Tokens de spacing y tipografía
- **Y** no hay colores hardcodeados fuera de los tokens

---

## Reglas técnicas

### Arquitectura
- Presentation solo consume UseCases vía IoC (no importa repositorios concretos).
- Domain no importa React/Next/MUI/Tailwind/Inversify.
- Infrastructure contiene implementaciones y wiring IoC.
- **Esta HU es solo Presentation**: no toca Domain ni Infrastructure.

### UI
- Usar MUI para componentes base (TextField, Button, Checkbox, etc.).
- Tailwind se usa para layout/spacing/responsive utilities.
- Usar tokens del Design System (`brand-500`, `accent-500`, `neutral-*`).
- Adaptar colores del diseño de referencia al Design System existente.
- Los componentes deben ser reutilizables cuando sea posible (seguir Atomic Design si ya está implementado).

### Responsive
- Breakpoint principal: `lg` (1024px) para mostrar/ocultar columna derecha.
- Usar `hidden lg:flex` para columna derecha.
- Formulario debe ser responsive en todos los tamaños.

### Dependencias / Paquetes
- No agregar dependencias nuevas salvo que esta HU lo indique explícitamente.
- Si aparece error 403/conectividad:
  1) Detenerse
  2) Pedir dominios requeridos
  3) Explicar por qué se requieren
  4) No continuar

---

## Implementación sugerida

### Estructura de archivos sugerida:
```
src/app/register/
└── page.tsx                    # Página de registro

src/presentation/components/register/
├── RegisterForm.tsx            # Formulario principal
├── RegisterHeader.tsx           # Header con logo y botón
├── RegisterImageSection.tsx    # Columna derecha con imagen
└── RegisterFooter.tsx           # Footer

src/presentation/components/atoms/ (si Atomic Design está implementado)
├── PasswordInput/              # Input de contraseña con toggle
└── SecureBadge/                # Badge "Secure Registration"
```

### Componentes principales:

1. **RegisterPage** (`src/app/register/page.tsx`):
   - Layout de dos columnas
   - Integra RegisterHeader, RegisterForm, RegisterImageSection, RegisterFooter

2. **RegisterForm**:
   - Todos los campos del formulario
   - Estados visuales
   - Toggle de contraseñas

3. **RegisterImageSection**:
   - Solo visible en desktop
   - Imagen de fondo
   - Overlay con contenido

### Notas de implementación:
- Usar `next/image` para la imagen de la columna derecha.
- Los botones de mostrar/ocultar contraseña pueden usar estado local simple (`useState`).
- Los links pueden ser placeholders (`href="#"` o `href="/login"`).
- Adaptar colores: el diseño usa `#2ce9ed` pero debemos usar `brand-500` del Design System.
- El checkbox de términos puede usar `Checkbox` de MUI.

---

## Validación

Comandos mínimos:
- `npm run dev` (verificar que la página se carga correctamente)
- `npm run build` (verificar que no hay errores de compilación)

Verificaciones visuales:
- El formulario se ve igual al diseño de referencia (adaptado al Design System)
- El layout es responsive (dos columnas en desktop, una en móvil)
- Los estados de focus funcionan correctamente
- El toggle de contraseña cambia el icono y tipo de input
- Todos los elementos están correctamente alineados
- Los colores usan tokens del Design System

---

## Definición de Hecho

- [ ] Criterios de aceptación cumplidos
- [ ] `npm run dev` OK
- [ ] `npm run build` OK
- [ ] Página de registro creada y accesible
- [ ] Layout responsive implementado
- [ ] Formulario completo con todos los campos
- [ ] Estados visuales de inputs funcionando
- [ ] Toggle de contraseña funcional (UI)
- [ ] Columna derecha implementada (desktop)
- [ ] Header y footer implementados
- [ ] Link a login implementado
- [ ] Uso correcto de tokens del Design System
- [ ] Sin violaciones de capas
- [ ] Sin cambios fuera del alcance
- Commit sugerido:
  `feat: add foundation registration form UI`

